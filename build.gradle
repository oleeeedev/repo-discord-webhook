plugins {
    id('java')
    id('application')
    id('maven-publish')
}

group = 'dev.ole.repo.discord.webhook'
version "$reposiliteVersion"

repositories {
    mavenCentral()
    maven {
        name('reposilite-repo')
        url('https://maven.reposilite.com/releases/')
    }
    maven {
        name('reposilite-snapshots')
        url('https://maven.reposilite.com/snapshots/')
    }
}

dependencies {
    implementation("club.minnced:discord-webhooks:0.8.2")
    compileOnly("com.reposilite:reposilite:$reposiliteVersion")
}

java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
    toolchain.languageVersion.set(JavaLanguageVersion.of(17))
}

tasks.register('sourcesJar', Jar) {
    from sourceSets.main.allJava
    archiveClassifier.set('sources')
}
tasks.register('javadocJar', Jar) {
    from javadoc
    archiveClassifier.set('javadoc')
}
